########################
# Import bazelrc presets
import %workspace%/tools/preset.bazelrc

########################
# Project-specific flags
# This is also a place to override settings from the presets

# reduce clutter of repo
common --symlink_prefix=.bazel/

# allow prebuilt protoc
common --incompatible_enable_proto_toolchain_resolution

# Build OCI images for linux/amd64 (Docker default)
build:linux --platforms=@rules_go//go/toolchain:linux_amd64

# Build OCI images for linux/arm64 (Apple Silicon)
build:linux_arm64 --platforms=@rules_go//go/toolchain:linux_arm64

########################
# User preferences
# Load any settings & overrides specific to the current user from `user.bazelrc`.
# This file should appear in `.gitignore` so that settings are not shared with team members.
# This should be last statement in this config so the user configuration overrides anything above.
try-import %workspace%/user.bazelrc
